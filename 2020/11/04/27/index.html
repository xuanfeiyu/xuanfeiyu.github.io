<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScipt," />










<meta name="description" content="作者：FY引用请标明出处  Part 1 · 模块二 ES 新特性与 TypeScript、JS 性能优化任务一：ECMAScript 新特性1.课程介绍 ECMAScript 与 JavaScript ECMAScript 的发展过程 ECMAScript2015 的新特性 And more…">
<meta property="og:type" content="article">
<meta property="og:title" content="学习笔记 ----- 【JavaScript 深度剖析】ES 新特性与 TypeScript、JS 性能优化">
<meta property="og:url" content="http://yoursite.com/2020/11/04/27/index.html">
<meta property="og:site_name" content="旋の飞羽">
<meta property="og:description" content="作者：FY引用请标明出处  Part 1 · 模块二 ES 新特性与 TypeScript、JS 性能优化任务一：ECMAScript 新特性1.课程介绍 ECMAScript 与 JavaScript ECMAScript 的发展过程 ECMAScript2015 的新特性 And more…">
<meta property="article:published_time" content="2020-11-03T16:00:00.000Z">
<meta property="article:modified_time" content="2020-11-22T10:44:48.683Z">
<meta property="article:author" content="FY">
<meta property="article:tag" content="JavaScipt">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/11/04/27/"/>





  <title>学习笔记 ----- 【JavaScript 深度剖析】ES 新特性与 TypeScript、JS 性能优化 | 旋の飞羽</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">旋の飞羽</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">人间值得，未来可期。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/04/27/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FY">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="旋の飞羽">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">学习笔记 ----- 【JavaScript 深度剖析】ES 新特性与 TypeScript、JS 性能优化</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-11-04T00:00:00+08:00">
                2020-11-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>作者：FY<br>引用请标明出处</p>
</blockquote>
<h1 id="Part-1-·-模块二-ES-新特性与-TypeScript、JS-性能优化"><a href="#Part-1-·-模块二-ES-新特性与-TypeScript、JS-性能优化" class="headerlink" title="Part 1 · 模块二 ES 新特性与 TypeScript、JS 性能优化"></a>Part 1 · 模块二 ES 新特性与 TypeScript、JS 性能优化</h1><h2 id="任务一：ECMAScript-新特性"><a href="#任务一：ECMAScript-新特性" class="headerlink" title="任务一：ECMAScript 新特性"></a>任务一：ECMAScript 新特性</h2><h3 id="1-课程介绍"><a href="#1-课程介绍" class="headerlink" title="1.课程介绍"></a>1.课程介绍</h3><ul>
<li>ECMAScript 与 JavaScript</li>
<li>ECMAScript 的发展过程</li>
<li>ECMAScript2015 的新特性</li>
<li>And more…</li>
</ul>
<a id="more"></a>

<h3 id="2-ECMAScript-概述"><a href="#2-ECMAScript-概述" class="headerlink" title="2.ECMAScript 概述"></a>2.ECMAScript 概述</h3><ul>
<li>通常看做 JavaScript 的标准化规范</li>
<li>实际上 JavaScipt 是 ECMAScript 的扩展语言</li>
<li>ECMAScript 只提供了最基本的语法</li>
<li>2015年开始ES保持每年一个版本的迭代</li>
</ul>
<h3 id="3-ECMAScript2015-概述"><a href="#3-ECMAScript2015-概述" class="headerlink" title="3.ECMAScript2015 概述"></a>3.ECMAScript2015 概述</h3><ul>
<li>ES6 最新 ECMAScript 标准的代表版本</li>
<li>相比于 ES5.1的变化比较大</li>
<li>自此，标准命名规则发生变化</li>
<li>用ES6泛指所有的新标准</li>
<li>async函数是ES2017中制定的标准</li>
<li>注意分辨资料中的ES6是特指还是泛指</li>
<li>重点介绍在ES5.1基础之上的变化，这些变化归为4类<ul>
<li>解决原有语法上的一些问题或不足</li>
<li>对原有语法进行增强</li>
<li>全新的对象、全新的方法、全新的功能</li>
<li>全新的数据类型和数据结构</li>
</ul>
</li>
</ul>
<h3 id="4-ECMAScript2015-准备工作"><a href="#4-ECMAScript2015-准备工作" class="headerlink" title="4.ECMAScript2015 准备工作"></a>4.ECMAScript2015 准备工作</h3><ul>
<li>任何一个支持ES2015的环境都可以</li>
<li>选择Node.js环境去做具体的尝试 v12.13.0</li>
<li>你也可以直接使用最新的Chrome</li>
<li>Nodemon工具，修改完代码后自动执行代码。yarn add nodemon –dev</li>
</ul>
<h3 id="5-ECMAScript2015-let-与块级作用域"><a href="#5-ECMAScript2015-let-与块级作用域" class="headerlink" title="5.ECMAScript2015 let 与块级作用域"></a>5.ECMAScript2015 let 与块级作用域</h3><ul>
<li>作用域：某个成员能够起作用的范围</li>
<li>在此之前，ES中只有两种作用域<ul>
<li>全局作用域</li>
<li>函数作用域</li>
</ul>
</li>
<li>ES2015中新增了块级作用域</li>
<li>let与var区别：let会产生块级作用域，不会出现变量提升的情况</li>
</ul>
<h3 id="6-ES2015-const"><a href="#6-ES2015-const" class="headerlink" title="6.ES2015 const"></a>6.ES2015 const</h3><ul>
<li>恒量/常量</li>
<li>let基础上多了<strong>只读</strong></li>
<li>声明过后不允许再被修改（不允许声明过后重新指向一个新的内存地址，并不是说不允许修改恒量中的属性成员）</li>
<li>最佳实践：不用var，主用const，配合let</li>
</ul>
<h3 id="7-ES2015-数组的解构"><a href="#7-ES2015-数组的解构" class="headerlink" title="7.ES2015 数组的解构"></a>7.ES2015 数组的解构</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>]</span><br><span class="line"><span class="comment">// const foo = arr[0]</span></span><br><span class="line"><span class="comment">// const bar = arr[1]</span></span><br><span class="line"><span class="comment">// const baz = arr[2]</span></span><br><span class="line"><span class="comment">// console.log(foo, bar, baz)</span></span><br><span class="line"><span class="keyword">const</span> [foo, bar, baz] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(foo, bar, baz)</span><br><span class="line"><span class="keyword">const</span> [foo, ...rest] = arr; <span class="comment">// 只能在最后位置使用</span></span><br><span class="line"><span class="built_in">console</span>.log(rest)</span><br><span class="line"><span class="keyword">const</span> [foo, bar, baz, more = <span class="string">'default value'</span>] = arr</span><br><span class="line"><span class="built_in">console</span>.log(more)</span><br></pre></td></tr></table></figure>

<h3 id="8-ES2015-对象的解构"><a href="#8-ES2015-对象的解构" class="headerlink" title="8.ES2015 对象的解构"></a>8.ES2015 对象的解构</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">name</span>: <span class="string">'zce'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="comment">// const &#123; name &#125; = obj</span></span><br><span class="line"><span class="comment">// console.log(name)</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'tom'</span></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">name</span>: objName = <span class="string">'jack'</span>&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(objName)</span><br><span class="line"><span class="keyword">const</span> &#123;log&#125; = <span class="built_in">console</span></span><br><span class="line">log(<span class="string">'foo'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="9-ES2015-模板字符串"><a href="#9-ES2015-模板字符串" class="headerlink" title="9.ES2015 模板字符串"></a>9.ES2015 模板字符串</h3><ul>
<li>支持换行</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">`hello es2015, this is a string`</span></span><br><span class="line"><span class="built_in">console</span>.log(str)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'tom'</span></span><br><span class="line"><span class="keyword">const</span> msg = <span class="string">`hey, <span class="subst">$&#123;name&#125;</span>----<span class="subst">$&#123;<span class="number">1</span> + <span class="number">2</span>&#125;</span>----<span class="subst">$&#123;<span class="built_in">Math</span>.random()&#125;</span>`</span></span><br><span class="line"><span class="built_in">console</span>.log(msg)</span><br></pre></td></tr></table></figure>

<h3 id="10-ES2015-带标签的模板字符串"><a href="#10-ES2015-带标签的模板字符串" class="headerlink" title="10.ES2015 带标签的模板字符串"></a>10.ES2015 带标签的模板字符串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="built_in">console</span>.log<span class="string">`hello world`</span> <span class="comment">// ['hello world']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'tom'</span></span><br><span class="line"><span class="keyword">const</span> gender = <span class="literal">true</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTagFunc</span>(<span class="params">strings,name,gender</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(strings, name, gender) <span class="comment">// ['hey', ' is a ', '.'] tom true</span></span><br><span class="line">    <span class="keyword">const</span> sex = gender ? <span class="string">'man'</span> : <span class="string">'woman'</span></span><br><span class="line">    <span class="keyword">return</span> strings[<span class="number">0</span>] + name + strings[<span class="number">1</span>] + sex + strings[<span class="number">2</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// hey, tom is a man</span></span><br><span class="line"><span class="keyword">const</span> result = myTagFunc<span class="string">`hey, <span class="subst">$&#123;name&#125;</span> is a <span class="subst">$&#123;gender&#125;</span>.`</span></span><br></pre></td></tr></table></figure>

<h3 id="11-ES2015-字符串的扩展方法"><a href="#11-ES2015-字符串的扩展方法" class="headerlink" title="11.ES2015 字符串的扩展方法"></a>11.ES2015 字符串的扩展方法</h3><ul>
<li>includes()</li>
<li>startsWith()</li>
<li>endsWidth()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> message = <span class="string">'Erroe: foo is not defined.'</span></span><br><span class="line"><span class="built_in">console</span>.log(message.startswith(<span class="string">'Error'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(message.endsWidth(<span class="string">'.'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(message.includes(<span class="string">'foo'</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="12-ES2015-参数默认值"><a href="#12-ES2015-参数默认值" class="headerlink" title="12.ES2015 参数默认值"></a>12.ES2015 参数默认值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">enable = true</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'foo invoked - enable:'</span>)</span><br><span class="line">   <span class="built_in">console</span>.log(enable)</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<h3 id="13-ES2015-剩余参数"><a href="#13-ES2015-剩余参数" class="headerlink" title="13.ES2015 剩余参数"></a>13.ES2015 剩余参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function foo()&#123;</span></span><br><span class="line"><span class="comment">//    console.log(arguments)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h3 id="14-ES2015-展开数组"><a href="#14-ES2015-展开数组" class="headerlink" title="14.ES2015 展开数组"></a>14.ES2015 展开数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]</span><br><span class="line"><span class="built_in">console</span>.log.apply(<span class="built_in">console</span>,arr)</span><br><span class="line"><span class="built_in">console</span>.log(...arr)</span><br></pre></td></tr></table></figure>

<h3 id="15-ES2015-箭头函数"><a href="#15-ES2015-箭头函数" class="headerlink" title="15.ES2015 箭头函数"></a>15.ES2015 箭头函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function inc(number) &#123;</span></span><br><span class="line"><span class="comment">//     return number + 1</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">const</span> inc = <span class="function"><span class="params">n</span> =&gt;</span> n + <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(inc(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<h3 id="16-ES2015-箭头函数与this"><a href="#16-ES2015-箭头函数与this" class="headerlink" title="16.ES2015 箭头函数与this"></a>16.ES2015 箭头函数与this</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">'tom'</span>,</span><br><span class="line">    <span class="comment">// sayHi: function()&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(`hi, my name is $&#123;this.name&#125;`)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// // hi, my name is tom</span></span><br><span class="line">    sayHi: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`hi, my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// hi, my name is undefined</span></span><br><span class="line">&#125;</span><br><span class="line">person.sayHi()</span><br></pre></td></tr></table></figure>

<h3 id="17-ES2015-对象字面量的增强"><a href="#17-ES2015-对象字面量的增强" class="headerlink" title="17.ES2015 对象字面量的增强"></a>17.ES2015 对象字面量的增强</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = <span class="string">'345'</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    foo: <span class="string">'123'</span></span><br><span class="line">    <span class="comment">// bar: bar</span></span><br><span class="line">    bar,</span><br><span class="line">    [<span class="built_in">Math</span>.random()]: <span class="number">123</span>  <span class="comment">//计算属性名</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br></pre></td></tr></table></figure>

<h3 id="18-ES2015-Object-assign"><a href="#18-ES2015-Object-assign" class="headerlink" title="18.ES2015 Object.assign"></a>18.ES2015 Object.assign</h3><ul>
<li>将多个源对象中的属性复制到一个目标对象中</li>
<li>用后面对象中的属性去覆盖第一个对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sourcel = &#123;</span><br><span class="line">    a: <span class="number">123</span>,</span><br><span class="line">    b: <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> target = &#123;</span><br><span class="line">    a: <span class="number">456</span>,</span><br><span class="line">    c: <span class="number">456</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = <span class="built_in">Object</span>.assign(target, sourcel)</span><br><span class="line"><span class="built_in">Object</span>.assign(target, sourcel) <span class="comment">// &#123;a:123,c:456,b:123&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(result === target) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="19-ES2015-Object-is"><a href="#19-ES2015-Object-is" class="headerlink" title="19.ES2015 Object.is"></a>19.ES2015 Object.is</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    <span class="comment">// +0 === -0 // true</span></span><br><span class="line">    <span class="comment">// NaN === NaN //false</span></span><br><span class="line">    <span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">-0</span>) <span class="comment">// false</span></span><br><span class="line">    <span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>) <span class="comment">// true</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="20-ES2015-Proxy"><a href="#20-ES2015-Proxy" class="headerlink" title="20.ES2015 Proxy"></a>20.ES2015 Proxy</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">'zce'</span>,</span><br><span class="line">    age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> personProxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(person, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, property) &#123;</span><br><span class="line">        <span class="keyword">return</span> property <span class="keyword">in</span> target ? target[property] : <span class="string">'default'</span></span><br><span class="line">        <span class="comment">// console.log(target, property)</span></span><br><span class="line">        <span class="comment">// return 100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target,property,value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(property === <span class="string">'age'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">Number</span>.isInteger(value)) &#123;</span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span> is not an int`</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// console.log(target, property, value)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">personProxy.age = <span class="number">100</span></span><br><span class="line">personProxy.gender = <span class="literal">true</span></span><br><span class="line"><span class="built_in">console</span>.log(personProxy.name)</span><br><span class="line"><span class="built_in">console</span>.log(personProxy.xxx)</span><br></pre></td></tr></table></figure>

<h3 id="21-ES2015-Proxy-对比-defineProperty"><a href="#21-ES2015-Proxy-对比-defineProperty" class="headerlink" title="21.ES2015 Proxy 对比 defineProperty"></a>21.ES2015 Proxy 对比 defineProperty</h3><ul>
<li>defineProperty 只能监视属性的读写</li>
<li>Proxy 能够监视到更多对象操作</li>
<li>Proxy 更好的支持数组对象的监视</li>
<li>Proxy 是以为侵入的方式见惯了对象的读写</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">'zce'</span>,</span><br><span class="line">    age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> personProxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(person, &#123;</span><br><span class="line">    deleteProperty(target, property) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'delete'</span>, property)</span><br><span class="line">        <span class="keyword">delete</span> target[property]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> personProxy.age</span><br><span class="line">    <span class="built_in">console</span>.log(person) <span class="comment">// &#123;name: 'zce'&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> list = []</span><br><span class="line">    <span class="keyword">const</span> listProxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(list,&#123;</span><br><span class="line">        <span class="keyword">set</span>(target, property, value)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'set'</span>, property, value)</span><br><span class="line">            target[property] = value</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    listProxy.push(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<h3 id="22-ES2015-Reflect"><a href="#22-ES2015-Reflect" class="headerlink" title="22.ES2015 Reflect"></a>22.ES2015 Reflect</h3><ul>
<li>Reflect 属于一个静态类</li>
<li>Reflect 内部封装了一系列对对象的底层操作</li>
<li>Reflect 成员方法就是 Proxy 处理对象的默认实现</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    foo: <span class="string">'123'</span>,</span><br><span class="line">    bar: <span class="string">'456'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, property) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, property)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(proxy.foo)</span><br><span class="line"><span class="comment">// 统一提供一套用于操作对象的API</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zce'</span>,</span><br><span class="line">    age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log('name' in obj)</span></span><br><span class="line"><span class="comment">// console.log(delete obj['age'])</span></span><br><span class="line"><span class="comment">// console.log(Object.keys(obj))</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj,<span class="string">'name'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.deleteProperty(obj, <span class="string">'age'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.ownkeys(obj))</span><br></pre></td></tr></table></figure>

<h3 id="23-ES2015-Promise"><a href="#23-ES2015-Promise" class="headerlink" title="23.ES2015 Promise"></a>23.ES2015 Promise</h3><ul>
<li>一种更优的异步编程解决方案</li>
<li>解决了传统异步编程中回调函数嵌套过深的问题</li>
</ul>
<h3 id="24-ES2015-class类"><a href="#24-ES2015-class类" class="headerlink" title="24.ES2015 class类"></a>24.ES2015 class类</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`hi, my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    say() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`hi, my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> Person(<span class="string">'tom'</span>)</span><br><span class="line">p.say()</span><br></pre></td></tr></table></figure>

<h3 id="25-ES2015-静态方法"><a href="#25-ES2015-静态方法" class="headerlink" title="25.ES2015 静态方法"></a>25.ES2015 静态方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    say() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`hi, my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> create(name) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Person(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> tom = Person.create(<span class="string">'tom'</span>)</span><br><span class="line">tom.say()</span><br></pre></td></tr></table></figure>

<h3 id="26-ES2015-类的继承"><a href="#26-ES2015-类的继承" class="headerlink" title="26.ES2015 类的继承"></a>26.ES2015 类的继承</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    say() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`hi, my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name, number) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name)</span><br><span class="line">        <span class="keyword">this</span>.number = number</span><br><span class="line">    &#125;</span><br><span class="line">    hello() &#123;</span><br><span class="line">        <span class="keyword">super</span>.say()</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`my school number is <span class="subst">$&#123;<span class="keyword">this</span>.number&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> Student(<span class="string">'jack'</span>, <span class="string">'100'</span>)</span><br><span class="line">s.hello()</span><br></pre></td></tr></table></figure>

<h3 id="27-ES2015-Set"><a href="#27-ES2015-Set" class="headerlink" title="27.ES2015 Set"></a>27.ES2015 Set</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">s.add(<span class="number">1</span>).add(<span class="number">2</span>).add(<span class="number">3</span>).add(<span class="number">4</span>).add(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(s)  <span class="comment">// Set &#123;1, 2, 3, 4&#125;</span></span><br><span class="line">s.forEach(<span class="function"><span class="params">i</span> =&gt;</span> <span class="built_in">console</span>.log(i)) <span class="comment">// 1 2 3 4</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(s.size)</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">100</span>))</span><br><span class="line"><span class="built_in">console</span>.log(s.delete(<span class="number">3</span>)) <span class="comment">// true</span></span><br><span class="line">s.clear()</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment">// const result = Array.from(new Set(arr))</span></span><br><span class="line"><span class="keyword">const</span> result = [...new <span class="built_in">Set</span>(arr)]</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>

<h3 id="28-ES2015-Map"><a href="#28-ES2015-Map" class="headerlink" title="28.ES2015 Map"></a>28.ES2015 Map</h3><ul>
<li>可以使用任意类型作为key，而对象key只能为字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">obj[<span class="literal">true</span>] = <span class="string">'value'</span></span><br><span class="line">obj[<span class="number">123</span>] = <span class="string">'value'</span></span><br><span class="line">obj[&#123;<span class="attr">a</span>: <span class="number">1</span>&#125;] = <span class="string">'value'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj)) <span class="comment">// ['123', 'true', '[object Object]']</span></span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">'[object Object]'</span>]) <span class="comment">// value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"><span class="keyword">const</span> tom = &#123;<span class="attr">name</span>: <span class="string">'tom'</span>&#125;</span><br><span class="line">m.set(tom,<span class="number">90</span>)</span><br><span class="line"><span class="built_in">console</span>.log(m)</span><br><span class="line"><span class="built_in">console</span>.log(m.get(tom))</span><br><span class="line">m.has()</span><br><span class="line">m.delete()</span><br><span class="line">m.clear()</span><br><span class="line">m.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, key)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="29-ES2015-Symbol"><a href="#29-ES2015-Symbol" class="headerlink" title="29.ES2015 Symbol"></a>29.ES2015 Symbol</h3><ul>
<li>最主要的作用就是为对象添加独一无二的属性名</li>
<li>截止到ES2019，一共定义了7种数据类型。未来还会新增BigInt，目前处于stage-4，标准化后就是8种数据类型了</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cache = &#123;&#125;</span><br><span class="line"><span class="comment">// a.js</span></span><br><span class="line">cache[<span class="string">'foo'</span>] = <span class="built_in">Math</span>.random()</span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line">cache[<span class="string">'foo'</span>] = <span class="string">'123'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cache) <span class="comment">// &#123;foo: '123'&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    <span class="built_in">Symbol</span>() === <span class="built_in">Symbol</span>() <span class="comment">// false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>()]: <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    [name]: <span class="string">'zce'</span>,</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>[name])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.say()</span><br></pre></td></tr></table></figure>

<h3 id="30-ES2015-Symbol-补充"><a href="#30-ES2015-Symbol-补充" class="headerlink" title="30.ES2015 Symbol 补充"></a>30.ES2015 Symbol 补充</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) === <span class="built_in">Symbol</span>(<span class="string">'foo'</span>) <span class="comment">// false</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">'foo'</span>)</span><br><span class="line"><span class="keyword">const</span> s2 = <span class="built_in">Symbol</span>.for(<span class="string">'foo'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    <span class="comment">// 会转成字符串</span></span><br><span class="line">    <span class="built_in">Symbol</span>.for(<span class="literal">true</span>) === <span class="built_in">Symbol</span>.for(<span class="string">'true'</span>) <span class="comment">// true</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.iterater)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.hasInstance)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.toStringTag]: <span class="string">'XObject'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.toString()) <span class="comment">// [object XObject]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>()]: <span class="string">'symbol value'</span>,</span><br><span class="line">    foo: <span class="string">'normal value'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key) <span class="comment">// foo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj)) <span class="comment">// ['foo']</span></span><br><span class="line">consle.log(Json.stringify(obj)) <span class="comment">// &#123;'foo':'nomal value'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbol(obj)) <span class="comment">// [Symbol()]</span></span><br></pre></td></tr></table></figure>

<h3 id="31-ES2015-for…of-循环"><a href="#31-ES2015-for…of-循环" class="headerlink" title="31.ES2015 for…of 循环"></a>31.ES2015 for…of 循环</h3><ul>
<li>for 适用于遍历普通数组</li>
<li>for…in 适用于遍历键值对</li>
<li>forEach 一些对象的遍历方法</li>
<li>这些遍历方式都有一定的局限性</li>
<li>ES2015 引入了全新的for…of循环 作为遍历所有数据结构的统一方式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr) <span class="comment">// 100 200 300 400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// forEach无法终止遍历</span></span><br><span class="line">arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item) <span class="comment">// 100 200 300 400</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr) <span class="comment">// 100 200</span></span><br><span class="line">    <span class="keyword">if</span>(item &gt; <span class="number">100</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">m.set(<span class="string">'foo'</span>: <span class="string">'123'</span>)</span><br><span class="line">m.set(<span class="string">'bar'</span>: <span class="string">'345'</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> m) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item) <span class="comment">// ['foo', '123'] ['bar', '345']</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key, value] <span class="keyword">of</span> m) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">foo</span>: <span class="number">123</span>,<span class="attr">bar</span>: <span class="number">456</span>&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item) <span class="comment">// TypeError: obj is not iterable</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="32-ES2015-可迭代接口"><a href="#32-ES2015-可迭代接口" class="headerlink" title="32.ES2015 可迭代接口"></a>32.ES2015 可迭代接口</h3><ul>
<li>ES 中能够表示有结构的数据类型越来越多(数组、对象、Set、Map)</li>
<li>为了给各种各样的数据结构提供统一遍历方式，ES2015提供了Iterable接口</li>
<li>实现Iterable接口就是for…of的前提</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set('foo', 'bar', 'baz')</span><br><span class="line">const iterator = <span class="keyword">set</span>[Symbol.iterator]()</span><br><span class="line"></span><br><span class="line">console.log(iterator.next()) // &#123; value: <span class="string">'foo'</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next()) <span class="comment">// &#123; value: 'bar', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next()) <span class="comment">// &#123; value: 'baz', done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next()) <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="33-ES2015-实现可迭代接口"><a href="#33-ES2015-实现可迭代接口" class="headerlink" title="33.ES2015 实现可迭代接口"></a>33.ES2015 实现可迭代接口</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="comment">// Iterable 可迭代接口</span></span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Iterator 迭代器接口</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// IterationResult 迭代结果接口</span></span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    value: <span class="string">'zce'</span>,</span><br><span class="line">                    done: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    store: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>],</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">const</span> result = &#123;</span><br><span class="line">                    value: self.store[index],</span><br><span class="line">                    done: index &gt;= self.store.length</span><br><span class="line">                &#125;</span><br><span class="line">                index++</span><br><span class="line">                <span class="keyword">return</span> result</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'循环体'</span>, item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="34-ES2015-迭代器模式"><a href="#34-ES2015-迭代器模式" class="headerlink" title="34.ES2015 迭代器模式"></a>34.ES2015 迭代器模式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> todos = &#123;</span><br><span class="line">    life: [<span class="string">'吃饭'</span>, <span class="string">'睡觉'</span>, <span class="string">'打豆豆'</span>]，</span><br><span class="line">    learn: [<span class="string">'语文'</span>, <span class="string">'数学'</span>, <span class="string">'外语'</span>]，</span><br><span class="line">    work: [<span class="string">'喝茶'</span>],</span><br><span class="line"></span><br><span class="line">    each: <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> all = [].concat(<span class="keyword">this</span>.life,<span class="keyword">this</span>.learn,<span class="keyword">this</span>.work)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> all)&#123;</span><br><span class="line">            callback(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> all = [...this.life, ...this.learn, ...this.work]</span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    value: all[index],</span><br><span class="line">                    done: index++ &gt;= all.length</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> todos.life)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> todos.learn)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> todos.work)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br><span class="line">todos.each(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> todos)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="35-ES2015-生成器"><a href="#35-ES2015-生成器" class="headerlink" title="35.ES2015 生成器"></a>35.ES2015 生成器</h3><ul>
<li>避免异步编程中回调嵌套过深</li>
<li>提供更好的异步编程解决方案</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">funciton * foo() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'zce'</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = foo()</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// Object [Generator] &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(result.next()) <span class="comment">// zce &#123;value: 100, done: true&#125;</span></span><br><span class="line"></span><br><span class="line">funciton * foo() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1111'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">100</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'2222'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">200</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'3333'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> generator = foo()</span><br><span class="line"><span class="built_in">console</span>.log(generator.next())</span><br></pre></td></tr></table></figure>

<h3 id="36-ES2015-生成器应用"><a href="#36-ES2015-生成器应用" class="headerlink" title="36.ES2015 生成器应用"></a>36.ES2015 生成器应用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">createIdMaker</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> id = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">yield</span> id++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> idMaker = createIdMaker()</span><br><span class="line"><span class="built_in">console</span>.log(idMaker.next().value)</span><br><span class="line"><span class="built_in">console</span>.log(idMaker.next().value)</span><br><span class="line"><span class="built_in">console</span>.log(idMaker.next().value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todos = &#123;</span><br><span class="line">    life: [<span class="string">'吃饭'</span>, <span class="string">'睡觉'</span>, <span class="string">'打豆豆'</span>]，</span><br><span class="line">    learn: [<span class="string">'语文'</span>, <span class="string">'数学'</span>, <span class="string">'外语'</span>]，</span><br><span class="line">    work: [<span class="string">'喝茶'</span>],</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span> * (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> all = [...this.life, ...this.learn, ...this.work]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> all) &#123;</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> todos)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="37-ES2015-ES-Modules"><a href="#37-ES2015-ES-Modules" class="headerlink" title="37.ES2015 ES Modules"></a>37.ES2015 ES Modules</h3><ul>
<li>语言层面的模块化标准</li>
<li>在模块化开发的课程中详细介绍</li>
</ul>
<h3 id="38-ES2016-概述"><a href="#38-ES2016-概述" class="headerlink" title="38.ES2016 概述"></a>38.ES2016 概述</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'foo'</span>,<span class="number">1</span>,<span class="literal">NaN</span>,<span class="literal">false</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="string">'foo'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="literal">NaN</span>)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">10</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> ** <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="39-ES2017-概述"><a href="#39-ES2017-概述" class="headerlink" title="39.ES2017 概述"></a>39.ES2017 概述</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    foo: <span class="string">'value1'</span>,</span><br><span class="line">    bar: <span class="string">'value2'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Object.values</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj)) <span class="comment">//['value1','value2']</span></span><br><span class="line"><span class="comment">// Object.entries</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj)) <span class="comment">//[['foo','value1'],['bar','value2']]</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(obj)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">Object</span>.entries(obj))) <span class="comment">// Map &#123;'foo' =&gt; 'value1', 'bar' =&gt; 'value2'&#125;</span></span><br><span class="line"><span class="comment">// Object.getOwnPropertyDescriptors</span></span><br><span class="line"><span class="keyword">const</span> p1 = &#123;</span><br><span class="line">    firstName: <span class="string">'Lei'</span>,</span><br><span class="line">    lastName: <span class="string">'Wang'</span>,</span><br><span class="line">    <span class="keyword">get</span> fullName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="built_in">Object</span>.assign(&#123;&#125;, p1)</span><br><span class="line">p2.firstName = <span class="string">'zce'</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.fullName) <span class="comment">// Lei Wang</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> descriptors = <span class="built_in">Object</span>.getOwnPropertyDescriptors(p1)</span><br><span class="line"><span class="built_in">console</span>.log(descriptors)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="built_in">Object</span>.defineProperties(&#123;&#125;,descriptors)</span><br><span class="line">p2.firstName = <span class="string">'zce'</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.fullName) <span class="comment">// zce Wang</span></span><br><span class="line"><span class="comment">// String.prototype.padStart / String.prototype.padEnd</span></span><br><span class="line"><span class="keyword">const</span> books = &#123;</span><br><span class="line">    html: <span class="number">5</span>,</span><br><span class="line">    css: <span class="number">16</span>,</span><br><span class="line">    javaScript: <span class="number">128</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// for(const [name,count] of Object.entries.(books)) &#123;</span></span><br><span class="line"><span class="comment">//     console.log(name, count)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [name,count] <span class="keyword">of</span> <span class="built_in">Object</span>.entries.(books)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;name.padEnd(<span class="number">16</span>, <span class="string">'-'</span>)&#125;</span>|<span class="subst">$&#123;count.toString().padStart(<span class="number">3</span>, <span class="string">'0'</span>)&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在函数参数中添加尾逗号</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    bar,</span></span></span><br><span class="line"><span class="function"><span class="params">    baz,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [</span><br><span class="line">    <span class="number">100</span>,</span><br><span class="line">    <span class="number">200</span>,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// Async/Await</span></span><br></pre></td></tr></table></figure>

<h2 id="任务二：TypeScript语言"><a href="#任务二：TypeScript语言" class="headerlink" title="任务二：TypeScript语言"></a>任务二：TypeScript语言</h2><h3 id="1-课程概述"><a href="#1-课程概述" class="headerlink" title="1.课程概述"></a>1.课程概述</h3><ul>
<li>TypeScript 解决JavaScript类型系统的问题</li>
<li>TypeScript 大大提高代码的可靠程度</li>
<li>内容概要<ul>
<li>强类型与弱类型</li>
<li>静态类型与动态类型</li>
<li>JavaScript自有类型系统的问题</li>
<li>Flow静态类型检测方案</li>
<li>TypeScript语言规范与基本应用</li>
</ul>
</li>
</ul>
<h3 id="2-强类型与弱类型"><a href="#2-强类型与弱类型" class="headerlink" title="2.强类型与弱类型"></a>2.强类型与弱类型</h3><ul>
<li>强类型与弱类型(类型安全)<ul>
<li>强类型：语言层面限制函数的实参类型必须与形参类型相同</li>
<li>弱类型：弱类型语言层面不会限制实参的类型</li>
<li>由于这种强弱之分根本不是某一个权威机构的定义</li>
<li>强类型有更强的类型约束，二弱类型中几乎没有什么约束</li>
<li>强类型语言中不允许有任意的隐式类型转换，而弱类型语言则允许任意的数据隐式类型转换</li>
<li>变量类型允许随时改变的特点，不是强弱类型的差异</li>
</ul>
</li>
<li>静态类型与动态类型(类型检查)</li>
</ul>
<h3 id="3-静态类型与动态类型"><a href="#3-静态类型与动态类型" class="headerlink" title="3.静态类型与动态类型"></a>3.静态类型与动态类型</h3><ul>
<li>静态类型：一个变量声明时它的类型就是明确的，声明过后，它的类型就不允许再修改</li>
<li>动态类型：运行阶段才能够明确变量类型，变量的类型随时可以改变</li>
<li>动态类型语言中的变量没有类型，变量中存放的值是有类型的</li>
</ul>
<h3 id="4-JavaSript-类型系统特征"><a href="#4-JavaSript-类型系统特征" class="headerlink" title="4.JavaSript 类型系统特征"></a>4.JavaSript 类型系统特征</h3><ul>
<li><strong>任性</strong> 缺失了类型系统的可靠性</li>
<li>为什么 JavaScript 不是强类型/静态类型<ul>
<li>早前的 JavaScript 应用简单</li>
<li>JavaScript 没有编译环节</li>
</ul>
</li>
</ul>
<h3 id="5-弱类型的问题"><a href="#5-弱类型的问题" class="headerlink" title="5.弱类型的问题"></a>5.弱类型的问题</h3><ul>
<li>君子约定有隐患，强制要求有保障</li>
</ul>
<h3 id="6-强类型的优势"><a href="#6-强类型的优势" class="headerlink" title="6.强类型的优势"></a>6.强类型的优势</h3><ul>
<li>错误更早暴露</li>
<li>代码更智能，编码更准确</li>
<li>重构更牢靠</li>
<li>减少不必要的类型判断</li>
</ul>
<h3 id="7-Flow概述"><a href="#7-Flow概述" class="headerlink" title="7.Flow概述"></a>7.Flow概述</h3><ul>
<li>JavaScript 的类型检查器</li>
<li>Flow 只是一个小工具，So Easy</li>
</ul>
<h3 id="8-Flow快速上手"><a href="#8-Flow快速上手" class="headerlink" title="8.Flow快速上手"></a>8.Flow快速上手</h3><ul>
<li>yarn add flow-bin –dev</li>
<li>yarn flow init</li>
<li>yarn flow</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line">funciton sum(a:number,<span class="attr">b</span>:number) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="string">'100'</span>, <span class="string">'100'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="9-Flow编译移除注解"><a href="#9-Flow编译移除注解" class="headerlink" title="9.Flow编译移除注解"></a>9.Flow编译移除注解</h3><ul>
<li><p>yarn add flow-remove-type –dev</p>
</li>
<li><p>yarn flow-remove-types src -d dist</p>
</li>
<li><p>yarn add @babel/core @babel/cli @babel/preset-flow –dev</p>
</li>
<li><p>根目录创建.babelrc  {‘presets’: [‘@babel/preset-flow’]}</p>
</li>
<li><p>yarn babel src -d dist</p>
</li>
</ul>
<h3 id="10-Flow开发工具插件"><a href="#10-Flow开发工具插件" class="headerlink" title="10.Flow开发工具插件"></a>10.Flow开发工具插件</h3><ul>
<li>Flow Language Support</li>
</ul>
<h3 id="11-Flow类型推断"><a href="#11-Flow类型推断" class="headerlink" title="11.Flow类型推断"></a>11.Flow类型推断</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line">funciton square(n) &#123;</span><br><span class="line">    <span class="keyword">return</span> n * n</span><br><span class="line">&#125;</span><br><span class="line">square(<span class="string">'100'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="12-Flow类型注解"><a href="#12-Flow类型注解" class="headerlink" title="12.Flow类型注解"></a>12.Flow类型注解</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line">funciton square(n:number) &#123;</span><br><span class="line">    <span class="keyword">return</span> n * n</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> num: number = <span class="number">100</span></span><br><span class="line">num = <span class="string">'string'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>):<span class="title">number</span> </span>&#123;  <span class="comment">// 没有返回值 void</span></span><br><span class="line">    <span class="comment">// return 'string'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-Flow原始类型"><a href="#13-Flow原始类型" class="headerlink" title="13.Flow原始类型"></a>13.Flow原始类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> a: string = <span class="string">'foobar'</span></span><br><span class="line"><span class="keyword">const</span> b: number = <span class="string">'Infinity'</span> <span class="comment">// NaN // 100</span></span><br><span class="line"><span class="keyword">const</span> c: boolean = <span class="literal">false</span></span><br><span class="line"><span class="keyword">const</span> d: <span class="literal">null</span> = <span class="literal">null</span></span><br><span class="line"><span class="keyword">const</span> e: <span class="keyword">void</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">const</span> f: symbol = <span class="built_in">Symbol</span>()</span><br></pre></td></tr></table></figure>

<h3 id="14-Flow数组类型"><a href="#14-Flow数组类型" class="headerlink" title="14.Flow数组类型"></a>14.Flow数组类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> arr1: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2: number[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> foo: [string, number] = [<span class="string">'foo'</span>, <span class="number">100</span>] <span class="comment">// 元组</span></span><br></pre></td></tr></table></figure>

<h3 id="15-Flow对象类型"><a href="#15-Flow对象类型" class="headerlink" title="15.Flow对象类型"></a>15.Flow对象类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> obj1: &#123;<span class="attr">foo</span>:string,<span class="attr">bar</span>:number&#125; = &#123;<span class="attr">foo</span>: <span class="string">'string'</span>,<span class="attr">bar</span>: <span class="number">100</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj2: &#123;foo?:string,<span class="attr">bar</span>:number&#125; = &#123;<span class="attr">bar</span>: <span class="number">100</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj3: &#123;[string]:string&#125; = &#123;&#125;</span><br><span class="line">obj3.key1 = <span class="string">'value1'</span></span><br><span class="line">obj3.key2 = <span class="string">'value2'</span></span><br></pre></td></tr></table></figure>

<h3 id="16-Flow函数类型"><a href="#16-Flow函数类型" class="headerlink" title="16.Flow函数类型"></a>16.Flow函数类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">callback: (string, number</span>) =&gt; <span class="title">void</span>) </span>&#123;</span><br><span class="line">    callback(<span class="string">'string'</span>, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="function"><span class="keyword">function</span>(<span class="params">str, n</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// str =&gt; string</span></span><br><span class="line">    <span class="comment">// n =&gt; number</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="17-Flow特殊类型"><a href="#17-Flow特殊类型" class="headerlink" title="17.Flow特殊类型"></a>17.Flow特殊类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> a: <span class="string">'foo'</span> = <span class="string">'foo'</span> <span class="comment">// 字面量类型</span></span><br><span class="line"><span class="keyword">const</span> type: <span class="string">'success'</span> | <span class="string">'warning'</span> | <span class="string">'danger'</span> = <span class="string">'success'</span></span><br><span class="line">type StringOrNumber = string | number</span><br><span class="line"><span class="keyword">const</span> b: StringOrNumber = <span class="string">'string'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> gender: ?number = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">const</span> gender: number | <span class="literal">null</span> | <span class="keyword">void</span> = <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="18-Flow-Mixed与Any"><a href="#18-Flow-Mixed与Any" class="headerlink" title="18.Flow Mixed与Any"></a>18.Flow Mixed与Any</h3><ul>
<li>Any是弱类型，Mixed是强类型</li>
<li>Any主要作用是兼容老代码，尽量不使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passMixed</span>(<span class="params">value: mixed</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">'string'</span>)&#123;</span><br><span class="line">       value.substr(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">'number'</span>)&#123;</span><br><span class="line">        value * value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passAny</span>(<span class="params">value: any</span>)</span>&#123;</span><br><span class="line">    value.substr(<span class="number">1</span>)</span><br><span class="line">    value * value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="19-Flow类型小结"><a href="#19-Flow类型小结" class="headerlink" title="19.Flow类型小结"></a>19.Flow类型小结</h3><ul>
<li><a href="https://flow.org/en/docs/types/" target="_blank" rel="noopener">https://flow.org/en/docs/types/</a></li>
<li><a href="https://www.saltycrane.com/cheat-sheets/flow-type/latest/" target="_blank" rel="noopener">https://www.saltycrane.com/cheat-sheets/flow-type/latest/</a></li>
</ul>
<h3 id="20-Flow运行环境API"><a href="#20-Flow运行环境API" class="headerlink" title="20.Flow运行环境API"></a>20.Flow运行环境API</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> element: HTMLElement | <span class="literal">null</span> = <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="21-TypeScript-概述"><a href="#21-TypeScript-概述" class="headerlink" title="21.TypeScript 概述"></a>21.TypeScript 概述</h3><ul>
<li>任何一种 JavaScript 运行环境都支持</li>
<li>功能更强大，生态也更健全、更完善</li>
<li>前端领域中的第二语言</li>
</ul>
<blockquote>
<p>缺点</p>
</blockquote>
<ul>
<li>语言本身多了很多概念</li>
<li>项目初期，TypeScript 会增加一些成本</li>
</ul>
<h3 id="22-TypeScript-快速上手"><a href="#22-TypeScript-快速上手" class="headerlink" title="22.TypeScript 快速上手"></a>22.TypeScript 快速上手</h3><ul>
<li>yarn add typescript –dev</li>
<li>yarn tsc xxx.ts</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hello = <span class="function">(<span class="params">name: string</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line">hello(<span class="string">'TypeScript'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="23-TypeScript-配置文件"><a href="#23-TypeScript-配置文件" class="headerlink" title="23.TypeScript 配置文件"></a>23.TypeScript 配置文件</h3><ul>
<li>yarn tsc –init</li>
</ul>
<h3 id="24-TypeScript-原始类型"><a href="#24-TypeScript-原始类型" class="headerlink" title="24.TypeScript 原始类型"></a>24.TypeScript 原始类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"><span class="keyword">const</span> a: string = <span class="string">'foobar'</span></span><br><span class="line"><span class="keyword">const</span> b: number = <span class="string">'Infinity'</span> <span class="comment">// NaN // 100</span></span><br><span class="line"><span class="keyword">const</span> c: boolean = <span class="literal">false</span> <span class="comment">// 严格模式&amp;非严格模式</span></span><br><span class="line"><span class="keyword">const</span> d: <span class="literal">null</span> = <span class="literal">null</span></span><br><span class="line"><span class="keyword">const</span> e: <span class="keyword">void</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">const</span> f: symbol = <span class="built_in">Symbol</span>() <span class="comment">// 这里报错 要把 tsconfig.json 的 target 改成 es2015 或者修改 lib 为 ['ES2015']  console报错 lib ['DOM']</span></span><br></pre></td></tr></table></figure>

<h3 id="25-TypeScript-标准库声明"><a href="#25-TypeScript-标准库声明" class="headerlink" title="25.TypeScript 标准库声明"></a>25.TypeScript 标准库声明</h3><ul>
<li>标准库就是内置对象所对应的声明</li>
</ul>
<h3 id="26-TypeScript-中文错误消息"><a href="#26-TypeScript-中文错误消息" class="headerlink" title="26.TypeScript 中文错误消息"></a>26.TypeScript 中文错误消息</h3><ul>
<li>yarn tsc –locale zh-CN</li>
<li>settings typescript locale zh-CN</li>
<li>不推荐</li>
</ul>
<h3 id="27-TypeScript-作用域问题"><a href="#27-TypeScript-作用域问题" class="headerlink" title="27.TypeScript 作用域问题"></a>27.TypeScript 作用域问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">123</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">123</span></span><br><span class="line"><span class="keyword">export</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="28-TypeScript-Object-类型"><a href="#28-TypeScript-Object-类型" class="headerlink" title="28.TypeScript Object 类型"></a>28.TypeScript Object 类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> foo: object = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">// &#123;&#125; // []</span></span><br><span class="line"><span class="keyword">const</span> obj:&#123;<span class="attr">foo</span>: number,<span class="attr">bar</span>: string&#125; = &#123;<span class="attr">foo</span>: <span class="number">123</span>, <span class="attr">bar</span>: <span class="string">'string'</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="29-TypeScript-数组类型"><a href="#29-TypeScript-数组类型" class="headerlink" title="29.TypeScript 数组类型"></a>29.TypeScript 数组类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2: number[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...args:number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function">(<span class="params">prev,current</span>) =&gt;</span> prev + current, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="30-TypeScript-元组类型"><a href="#30-TypeScript-元组类型" class="headerlink" title="30.TypeScript 元组类型"></a>30.TypeScript 元组类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tuple: [number, string] = [<span class="number">10</span>, <span class="string">'zce'</span>]</span><br></pre></td></tr></table></figure>

<h3 id="31-TypeScript-枚举类型"><a href="#31-TypeScript-枚举类型" class="headerlink" title="31.TypeScript 枚举类型"></a>31.TypeScript 枚举类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const PostStatus = &#123;</span></span><br><span class="line"><span class="comment">//     Draft: 0,</span></span><br><span class="line"><span class="comment">//     Unpublished: 1,</span></span><br><span class="line"><span class="comment">//     Published: 2</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">enum PostStatus &#123;</span><br><span class="line">    Draft = <span class="number">0</span>,</span><br><span class="line">    Unpublished = <span class="number">1</span>,</span><br><span class="line">    Published = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> post = &#123;</span><br><span class="line">    title: <span class="string">'Hello TypeScript'</span>,</span><br><span class="line">    content: <span class="string">'TypeScript is a typed superset of JavaScript'</span></span><br><span class="line">    status: PostStatus.Draft</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="32-TypeScript-函数类型"><a href="#32-TypeScript-函数类型" class="headerlink" title="32.TypeScript 函数类型"></a>32.TypeScript 函数类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params">a: number, b?: number</span>):<span class="title">string</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">'func1'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> func2:<span class="function">(<span class="params">a: number, b?: number</span>) =&gt;</span> string = <span class="function"><span class="keyword">function</span>(<span class="params">a: number, b?: number</span>):<span class="title">string</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">'func2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="33-TypeScript-任意类型"><a href="#33-TypeScript-任意类型" class="headerlink" title="33.TypeScript 任意类型"></a>33.TypeScript 任意类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringify</span>(<span class="params">value:any</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="34-TypeScript-隐式类型推断"><a href="#34-TypeScript-隐式类型推断" class="headerlink" title="34.TypeScript 隐式类型推断"></a>34.TypeScript 隐式类型推断</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">10</span></span><br><span class="line">age = <span class="string">'string'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo</span><br></pre></td></tr></table></figure>

<h3 id="35-TypeScript-类型断言"><a href="#35-TypeScript-类型断言" class="headerlink" title="35.TypeScript 类型断言"></a>35.TypeScript 类型断言</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = [<span class="number">110</span>, <span class="number">1120</span>, <span class="number">119</span>, <span class="number">112</span>]</span><br><span class="line"><span class="keyword">const</span> res = nums.find(<span class="function"><span class="params">i</span> =&gt;</span> i &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">const</span> num1 = res <span class="keyword">as</span> number</span><br><span class="line"><span class="keyword">const</span> num1 = <span class="xml"><span class="tag">&lt;<span class="name">number</span>&gt;</span>res</span></span><br></pre></td></tr></table></figure>

<h3 id="36-TypeScript-接口"><a href="#36-TypeScript-接口" class="headerlink" title="36.TypeScript 接口"></a>36.TypeScript 接口</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Post &#123;</span><br><span class="line">    title: string</span><br><span class="line">    conent: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printPost</span>(<span class="params">post: Post</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(post.title)</span><br><span class="line">    <span class="built_in">console</span>.log(post.conent)</span><br><span class="line">&#125;</span><br><span class="line">pintPost(</span><br><span class="line">    title: <span class="string">'Hello TypeScript'</span>,</span><br><span class="line">    content: <span class="string">'A Javascript superset'</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="37-TypeScript-接口补充"><a href="#37-TypeScript-接口补充" class="headerlink" title="37.TypeScript 接口补充"></a>37.TypeScript 接口补充</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface Post &#123;</span><br><span class="line">    title: string</span><br><span class="line">    conent: string</span><br><span class="line">    subTitle?: string</span><br><span class="line">    readonly summary: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> hello:Post = &#123;</span><br><span class="line">    title: <span class="string">'Hello TypeScript'</span>,</span><br><span class="line">    content: <span class="string">'A Javascript superset'</span></span><br><span class="line">&#125;</span><br><span class="line">interface Cache &#123;</span><br><span class="line">    [prop:string]: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cache: Cache = &#123;&#125;</span><br><span class="line">cache.foo = <span class="string">'value1'</span></span><br></pre></td></tr></table></figure>

<h3 id="38-TypeScript-类的基本使用"><a href="#38-TypeScript-类的基本使用" class="headerlink" title="38.TypeScript 类的基本使用"></a>38.TypeScript 类的基本使用</h3><ul>
<li>用来描述一类具体对象的抽象成员</li>
<li>ES6以前，函数+原型模拟实现类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    name: string</span><br><span class="line">    age:number</span><br><span class="line">    <span class="keyword">constructor</span>(name:string, age:number) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    sayHi(age:string):<span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`I am <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,<span class="subst">$&#123;msg&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="39-TypeScript-类的访问修饰符"><a href="#39-TypeScript-类的访问修饰符" class="headerlink" title="39.TypeScript 类的访问修饰符"></a>39.TypeScript 类的访问修饰符</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    public name: string</span><br><span class="line">    private age:number</span><br><span class="line">    protected gender: boolean</span><br><span class="line">    <span class="keyword">constructor</span>(name:string, age:number) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>.age = age0.</span><br><span class="line">    &#125;</span><br><span class="line">    sayHi(age:string):<span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`I am <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,<span class="subst">$&#123;msg&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    private <span class="keyword">constructor</span> (name: string, age: number) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.gender)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> create(name:string, <span class="attr">age</span>: number)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Student(name, age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="40-TypeScript-类的只读属性"><a href="#40-TypeScript-类的只读属性" class="headerlink" title="40.TypeScript 类的只读属性"></a>40.TypeScript 类的只读属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    public name: string</span><br><span class="line">    private age:number</span><br><span class="line">    protected readonly gender: boolean</span><br><span class="line">    <span class="keyword">constructor</span>(name:string, age:number) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">        <span class="keyword">this</span>.age = age0.</span><br><span class="line">    &#125;</span><br><span class="line">    sayHi(age:string):<span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`I am <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,<span class="subst">$&#123;msg&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="41-TypeScript-类与接口"><a href="#41-TypeScript-类与接口" class="headerlink" title="41.TypeScript 类与接口"></a>41.TypeScript 类与接口</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">interface Eat &#123;</span><br><span class="line">    eat(food: string):<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line">interface Run &#123;</span><br><span class="line">    run(distance: number): <span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">implements</span>  <span class="title">Eat</span>,<span class="title">Run</span></span>&#123;</span><br><span class="line">    eat(food: string):<span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`优雅的进餐：<span class="subst">$&#123;food&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    run(distance:number) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`直立行走：<span class="subst">$&#123;distance&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="title">implements</span>  <span class="title">Eat</span>,<span class="title">Run</span> </span>&#123;</span><br><span class="line">    eat(food: string): viod &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`呼噜呼噜的吃：<span class="subst">$&#123;food&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    run(distance:number) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`爬行：<span class="subst">$&#123;distance&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="42-TypeScript-抽象类"><a href="#42-TypeScript-抽象类" class="headerlink" title="42.TypeScript 抽象类"></a>42.TypeScript 抽象类</h3><ul>
<li>不同于接口的是，抽象类可以包含一些具体的实现，接口只能是一个成员的抽象，不包含具体的实现。</li>
<li>只能被继承，不能使用new创建实例化对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    eat(food: string):<span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`呼噜呼噜的吃：<span class="subst">$&#123;food&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    abstract run (distance:number):viod</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    run(distance: number): <span class="keyword">void</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">`爬行：<span class="subst">$&#123;distance&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> d = <span class="keyword">new</span> Dog()</span><br><span class="line">d.eat(<span class="string">'恩西马'</span>)</span><br><span class="line">d.run(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<h3 id="43-TypeScript-泛型"><a href="#43-TypeScript-泛型" class="headerlink" title="43.TypeScript 泛型"></a>43.TypeScript 泛型</h3><ul>
<li>泛型就是声明这个函数时不去指定具体的类型，等在我们调用的时候再传递一个具体的类型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function createNumberArray(length:number,value:number):number[] &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="built_in">Array</span>&lt;number&gt;(length).fill(value)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line">function createNumberArray(length:number,value:string):string[] &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="built_in">Array</span>&lt;string&gt;(length).fill(value)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line">function createArray&lt;T&gt;(length:number,value:T):T[] &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="built_in">Array</span>&lt;T&gt;(length).fill(value)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res = createArray&lt;string&gt;(<span class="number">3</span>,<span class="string">'foo'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="44-TypeScript-类型声明"><a href="#44-TypeScript-类型声明" class="headerlink" title="44.TypeScript 类型声明"></a>44.TypeScript 类型声明</h3><ul>
<li>yarn add @types/lodash –dev</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; camelCase &#125; form <span class="string">'lodash'</span></span><br><span class="line"><span class="comment">// declare function camelCase(input: string): string</span></span><br><span class="line"><span class="keyword">const</span> res = camelCase(<span class="string">'hello typed'</span>)</span><br><span class="line"><span class="comment">// 模块自带 无需声明</span></span><br><span class="line"><span class="keyword">import</span> qs = <span class="string">'query-string'</span></span><br><span class="line">qs.parse(<span class="string">'?key=value&amp;key2=value2'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="任务三：JavaScript-性能优化"><a href="#任务三：JavaScript-性能优化" class="headerlink" title="任务三：JavaScript 性能优化"></a>任务三：JavaScript 性能优化</h2><h3 id="1-课程概述-1"><a href="#1-课程概述-1" class="headerlink" title="1.课程概述"></a>1.课程概述</h3><ul>
<li>性能优化是不可避免的</li>
<li>哪些内容可以看做是性能优化<ul>
<li>任何一种可以提高运行效率，降低运行开销的行为</li>
</ul>
</li>
<li>无处不在的前端性能优化</li>
<li>本阶段的核心是 JavaScript 语言的优化</li>
<li>内容概要<ul>
<li>内存管理</li>
<li>垃圾回收与常见的GC算法</li>
<li>V8引擎的垃圾回收</li>
<li>Performance 工具</li>
<li>代码优化实例</li>
</ul>
</li>
</ul>
<h3 id="2-内存管理"><a href="#2-内存管理" class="headerlink" title="2.内存管理"></a>2.内存管理</h3><blockquote>
<p>内存管理介绍</p>
</blockquote>
<ul>
<li>内存：由可读写单元组成，表示一片可操作空间</li>
<li>管理：人为的去操作一片空间的申请、使用和释放</li>
<li>内存管理：开发者主动申请空间、使用空间、释放空间</li>
<li>管理流程：申请-使用-释放</li>
</ul>
<blockquote>
<p>JavaScript 中的内存管理</p>
</blockquote>
<ul>
<li>申请内存空间</li>
<li>使用没存空间</li>
<li>释放内存空间</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 申请</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">obj.name = <span class="string">'lg'</span></span><br><span class="line"><span class="comment">// 释放</span></span><br><span class="line">obj = <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h3 id="3-JavaScript的垃圾回收"><a href="#3-JavaScript的垃圾回收" class="headerlink" title="3.JavaScript的垃圾回收"></a>3.JavaScript的垃圾回收</h3><ul>
<li>JavaScript中垃圾<ul>
<li>JavaScript中内存管理是自动的</li>
<li>对象不再被引用时是垃圾</li>
<li>对象不能从根上访问到时是垃圾</li>
</ul>
</li>
<li>JavaScrip中的可达对象<ul>
<li>可以访问到的对象就是可达对象(引用、作用域链)</li>
<li>可达的标准就是从根出发是否能够被找到</li>
<li>JavaScript中的根就可以理解为是全局变量对象</li>
</ul>
</li>
</ul>
<h3 id="4-GC算法介绍"><a href="#4-GC算法介绍" class="headerlink" title="4.GC算法介绍"></a>4.GC算法介绍</h3><blockquote>
<p>GC 定义与作用</p>
</blockquote>
<ul>
<li>GC 就是垃圾回收机制的简写</li>
<li>GC 可以找到内存中的垃圾、并释放和回收空间</li>
</ul>
<blockquote>
<p>GC 里的垃圾是什么</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 程序中不再需要使用的对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    name = <span class="string">'lg'</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span> is a coder`</span></span><br><span class="line">&#125;</span><br><span class="line">func()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 程序中不能再访问到的对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">'lg'</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span> is a coder`</span></span><br><span class="line">&#125;</span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>GC 算法是什么</p>
</blockquote>
<ul>
<li>GC是一种机制，垃圾回收器完成具体的工作</li>
<li>工作的内容就是查找垃圾释放空间、回收空间</li>
<li>算法就是工作时查找和回收所遵循的规则</li>
</ul>
<blockquote>
<p>常见 GC 算法</p>
</blockquote>
<ul>
<li>引用计数</li>
<li>标记清除</li>
<li>标记整理</li>
<li>分带回收</li>
</ul>
<h3 id="5-引用计数算法实现原理"><a href="#5-引用计数算法实现原理" class="headerlink" title="5.引用计数算法实现原理"></a>5.引用计数算法实现原理</h3><ul>
<li>核心思想：设置引用数，判断当前引用数是否为 0</li>
<li>引用计数器</li>
<li>引用关系改变时修改引用数字</li>
<li>引用数字为 0 时立即回收</li>
</ul>
<h3 id="6-引用计数算法优缺点"><a href="#6-引用计数算法优缺点" class="headerlink" title="6.引用计数算法优缺点"></a>6.引用计数算法优缺点</h3><blockquote>
<p>引用计数算法优点</p>
</blockquote>
<ul>
<li>发现垃圾时立即回收</li>
<li>最大限度减少程序暂停</li>
</ul>
<blockquote>
<p>引用计数算法缺点</p>
</blockquote>
<ul>
<li>无法回收循环引用的对象</li>
<li>时间开销大</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> obj1 = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> obj2 = &#123;&#125;</span><br><span class="line">    obj1.name = obj2</span><br><span class="line">    obj2.name = obj1</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'lg is a coder'</span></span><br><span class="line">&#125;</span><br><span class="line">fn()</span><br></pre></td></tr></table></figure>

<h3 id="7-标记清除算法实现原理"><a href="#7-标记清除算法实现原理" class="headerlink" title="7.标记清除算法实现原理"></a>7.标记清除算法实现原理</h3><ul>
<li>核心思想：分标记和清除两个阶段完成</li>
<li>遍历所有对象找标记活动对象</li>
<li>遍历所有对象清除没有标记对象</li>
<li>回收相应的空间</li>
</ul>
<h3 id="8-标记清除算法优缺点"><a href="#8-标记清除算法优缺点" class="headerlink" title="8.标记清除算法优缺点"></a>8.标记清除算法优缺点</h3><ul>
<li>优点：解决循环引用不能回收问题</li>
<li>缺点：空间碎片化，不能充分利用</li>
</ul>
<h3 id="9-标记整理算法实现原理"><a href="#9-标记整理算法实现原理" class="headerlink" title="9.标记整理算法实现原理"></a>9.标记整理算法实现原理</h3><ul>
<li>标记整理可以看做是标记清除的增强</li>
<li>标记阶段的操作和标记清除一致</li>
<li>清除阶段会先执行整理，移动对象位置</li>
</ul>
<h3 id="10-常见GC算法总结"><a href="#10-常见GC算法总结" class="headerlink" title="10.常见GC算法总结"></a>10.常见GC算法总结</h3><ul>
<li>引用计数<ul>
<li>可以即时回收垃圾对象</li>
<li>减少程序卡顿时间</li>
<li>无法回收循环引用的对象</li>
<li>资源消耗较大</li>
</ul>
</li>
<li>标记清除<ul>
<li>可以回收循环引用的对象</li>
<li>容易产生碎片化空间，浪费空间</li>
<li>不会立即回收垃圾对象</li>
</ul>
</li>
<li>标记整理<ul>
<li>减少碎片化空间</li>
<li>不会立即回收垃圾对象</li>
</ul>
</li>
</ul>
<h3 id="11-认识V8"><a href="#11-认识V8" class="headerlink" title="11.认识V8"></a>11.认识V8</h3><ul>
<li>V8 是一款主流的 JavaScript 执行引擎</li>
<li>V8 采用即时编译</li>
<li>V8 内存设限</li>
</ul>
<h3 id="12-V8垃圾回收策略"><a href="#12-V8垃圾回收策略" class="headerlink" title="12.V8垃圾回收策略"></a>12.V8垃圾回收策略</h3><ul>
<li>采用分代回收的思想</li>
<li>内存分为新生代、老生代</li>
</ul>
<blockquote>
<p>V8 中常用的GC算法</p>
</blockquote>
<ul>
<li>分代回收</li>
<li>空间复制</li>
<li>标记清除</li>
<li>标记整理</li>
<li>标记增量</li>
</ul>
<h3 id="13-V8如何回收新生代对象"><a href="#13-V8如何回收新生代对象" class="headerlink" title="13.V8如何回收新生代对象"></a>13.V8如何回收新生代对象</h3><blockquote>
<p>V8 内存分配</p>
</blockquote>
<ul>
<li>V8 内存空间一分为二</li>
<li>小空间用于存储新生代对象(32M|16M)</li>
<li>新生代指的是存活时间较短的对象</li>
</ul>
<blockquote>
<p>新生代对象回收实现</p>
</blockquote>
<ul>
<li>回收过程采用复制算法 + 标记整理</li>
<li>新生代内存区分为二个等大小空间</li>
<li>使用空间为 From，空闲空间为 To</li>
<li>活动对象存储于 From 空间</li>
<li>标记整理后将活动对象拷贝至 To</li>
<li>From 与 To 交换空间完成释放</li>
</ul>
<blockquote>
<p>回收细节说明</p>
</blockquote>
<ul>
<li>拷贝过程中可能出现晋升</li>
<li>晋升就是将新生代对象移动至老生代</li>
<li>一轮 GC 还存活的新生代需要晋升</li>
<li>To 空间的使用率超过 25%</li>
</ul>
<h3 id="14-V8如何回收老生代对象"><a href="#14-V8如何回收老生代对象" class="headerlink" title="14.V8如何回收老生代对象"></a>14.V8如何回收老生代对象</h3><blockquote>
<p>老生代对象说明</p>
</blockquote>
<ul>
<li>老生代对象存放在右侧老生代区域</li>
<li>64位操作系统1.4G，32操作系统700M</li>
<li>老生代对象就是指存活时间较长的对象</li>
</ul>
<blockquote>
<p>老生代对象回收实现</p>
</blockquote>
<ul>
<li>主要采用标记清除、标记整理、增量标记算法</li>
<li>首先使用标记清除完成垃圾空间的回收</li>
<li>采用标记整理进行空间优化</li>
<li>采用增量标记进行效率优化</li>
</ul>
<blockquote>
<p>细节对比</p>
</blockquote>
<ul>
<li>新生代区域垃圾回收使用空间换时间</li>
<li>老生代区域垃圾回收不适合复制算法</li>
</ul>
<h3 id="15-V8垃圾回收总结"><a href="#15-V8垃圾回收总结" class="headerlink" title="15.V8垃圾回收总结"></a>15.V8垃圾回收总结</h3><ul>
<li>V8 是一款主流的 JavaScript 执行引擎</li>
<li>V8 内存设置上限</li>
<li>V8 采用基于分代回收思想实现垃圾回收</li>
<li>V8 内存分为新生代和老生代</li>
<li>V8 垃圾回收常见的 GC 算法</li>
</ul>
<h3 id="16-Performance工具介绍"><a href="#16-Performance工具介绍" class="headerlink" title="16.Performance工具介绍"></a>16.Performance工具介绍</h3><blockquote>
<p>为什么使用 Performance</p>
</blockquote>
<ul>
<li>GC的目的是为了实现内存空间的良性循环</li>
<li>良性循环的基石是合理使用</li>
<li>时刻关注才能确定是否合理</li>
<li>Performance 提供多种监控方式</li>
</ul>
<blockquote>
<p>Performance 使用步骤</p>
</blockquote>
<ul>
<li>打开浏览器输入目标网址</li>
<li>进入开发人员工具面板，选择性能</li>
<li>开启录制功能，访问具体页面</li>
<li>执行用户行为，一段时间后停止录制</li>
<li>分析界面中记录的内存信息</li>
</ul>
<h3 id="17-内存问题的体现"><a href="#17-内存问题的体现" class="headerlink" title="17.内存问题的体现"></a>17.内存问题的体现</h3><blockquote>
<p>内存问题的外在表现</p>
</blockquote>
<ul>
<li>页面出现延迟加载或经常性暂停</li>
<li>页面持续性出现糟糕的性能</li>
<li>页面的性能随时间延长越来越差</li>
</ul>
<h3 id="18-监控内存的几种方式"><a href="#18-监控内存的几种方式" class="headerlink" title="18.监控内存的几种方式"></a>18.监控内存的几种方式</h3><blockquote>
<p>界定内存问题的标准</p>
</blockquote>
<ul>
<li>内存泄漏：内存使用持续升高</li>
<li>内存膨胀：在多数设备上都存在性能问题</li>
<li>频繁垃圾回收：通过内存变化图进行分析</li>
</ul>
<blockquote>
<p>监控内存的几种方式</p>
</blockquote>
<ul>
<li>浏览器任务管理器</li>
<li>Timeline 时序图记录</li>
<li>堆快照查找分离 DOM</li>
<li>判断是否存在频繁的垃圾回收</li>
</ul>
<h3 id="19-任务管理器监控内存"><a href="#19-任务管理器监控内存" class="headerlink" title="19.任务管理器监控内存"></a>19.任务管理器监控内存</h3><ul>
<li>Shift + Esc 浏览器任务管理器</li>
</ul>
<h3 id="20-Timeline记录内存"><a href="#20-Timeline记录内存" class="headerlink" title="20.Timeline记录内存"></a>20.Timeline记录内存</h3><ul>
<li>Performance 勾选内存</li>
</ul>
<h3 id="21-堆快照查找分离DOM"><a href="#21-堆快照查找分离DOM" class="headerlink" title="21.堆快照查找分离DOM"></a>21.堆快照查找分离DOM</h3><blockquote>
<p>什么是分离DOM</p>
</blockquote>
<ul>
<li>界面元素存活在 DOM 树上</li>
<li>垃圾对象时的 DOM 节点</li>
<li>分离状态的 DOM 节点</li>
</ul>
<blockquote>
<p>内存 过滤 deta</p>
</blockquote>
<h3 id="22-判断是否存在频繁GC"><a href="#22-判断是否存在频繁GC" class="headerlink" title="22.判断是否存在频繁GC"></a>22.判断是否存在频繁GC</h3><blockquote>
<p>为什么确定频繁垃圾回收</p>
</blockquote>
<ul>
<li>GC 工作时应用程序是停止的</li>
<li>频繁且过长的 GC 会导致应用假死</li>
<li>用户使用中感知应用卡顿</li>
</ul>
<blockquote>
<p>确定频繁的垃圾回收</p>
</blockquote>
<ul>
<li>Timeline 中频繁的上升下降</li>
<li>任务管理器中数据频繁的增加减小</li>
</ul>
<h3 id="23-Performance-总结"><a href="#23-Performance-总结" class="headerlink" title="23.Performance 总结"></a>23.Performance 总结</h3><ul>
<li>Performance 使用流程</li>
<li>内存问题的相关分析</li>
<li>Performance 时序图监控内存变化</li>
<li>任务管理器监控内存变化</li>
<li>堆快照查找分离DOM</li>
</ul>
<h3 id="24-代码优化介绍"><a href="#24-代码优化介绍" class="headerlink" title="24.代码优化介绍"></a>24.代码优化介绍</h3><blockquote>
<p>如何精准测试 JavaScript 性能</p>
</blockquote>
<ul>
<li>本质上就是采集大量的执行样本进行数学统计和分析</li>
<li>使用基于 Benchmark.js的 <a href="https://jsperf.com" target="_blank" rel="noopener">https://jsperf.com</a>完成</li>
</ul>
<blockquote>
<p>Jsperf 使用流程</p>
</blockquote>
<ul>
<li>使用 GitHub 账号登录</li>
<li>填写个人信息(非必填)</li>
<li>填写详细的测试用例信息(title、slug)</li>
<li>填写准备代码(DOM操作时经常使用)</li>
<li>填写必要有 setup 与 teardown 代码</li>
<li>填写测试代码片段</li>
</ul>
<h3 id="25-慎用全局变量"><a href="#25-慎用全局变量" class="headerlink" title="25.慎用全局变量"></a>25.慎用全局变量</h3><blockquote>
<p>为什么要慎用</p>
</blockquote>
<ul>
<li>全局变量定义在全局执行上下文，是所有作用域链的顶端</li>
<li>全局执行上下文一直存在于上下文执行栈，直到程序退出</li>
<li>如果某个局部作用域出现了同名变量则会遮蔽或污染全局</li>
</ul>
<h3 id="26-缓存全局变量"><a href="#26-缓存全局变量" class="headerlink" title="26.缓存全局变量"></a>26.缓存全局变量</h3><ul>
<li>将使用中无法避免的全局变量缓存到局部</li>
</ul>
<h3 id="27-通过原型对象添加附加方法"><a href="#27-通过原型对象添加附加方法" class="headerlink" title="27.通过原型对象添加附加方法"></a>27.通过原型对象添加附加方法</h3><ul>
<li>在原型对象上新增实例对象需要的方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.foo = funciton()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">11111</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> f1 = <span class="keyword">new</span> fn1</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    fn2.prototype.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">11111</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> f2 = <span class="keyword">new</span> fn2</span><br></pre></td></tr></table></figure>

<h3 id="28-避开闭包陷阱"><a href="#28-避开闭包陷阱" class="headerlink" title="28.避开闭包陷阱"></a>28.避开闭包陷阱</h3><blockquote>
<p>闭包特点</p>
</blockquote>
<ul>
<li>外部具有指向内部的引用</li>
<li>在‘外’部作用域访问‘内’部作用域的数据</li>
</ul>
<blockquote>
<p>关于闭包</p>
</blockquote>
<ul>
<li>闭包是一种强大的语法</li>
<li>闭包使用不当很容易出现内存泄漏</li>
<li>不要为了闭包而闭包</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span><br><span class="line">    el.onClick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(el.id)</span><br><span class="line">    &#125;</span><br><span class="line">    el = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<h3 id="29-避免属性访问方法使用"><a href="#29-避免属性访问方法使用" class="headerlink" title="29.避免属性访问方法使用"></a>29.避免属性访问方法使用</h3><ul>
<li>JS 不需要属性的访问方法，所有属性都是外部可见的</li>
<li>使用属性访问方法只会增加一层重定义，没有访问的控制力</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'icoder'</span></span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">18</span></span><br><span class="line">    <span class="keyword">this</span>.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">const</span> a = p1.getAge()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'icoder'</span></span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">const</span> b = p2.age</span><br></pre></td></tr></table></figure>

<h3 id="30-For循环优化"><a href="#30-For循环优化" class="headerlink" title="30.For循环优化"></a>30.For循环优化</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aBtns = <span class="built_in">document</span>.getElementByClassName(<span class="string">'btn'</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; aBtns.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; len = aBtns.length; i&lt; len; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="31-选择最优的循环方法"><a href="#31-选择最优的循环方法" class="headerlink" title="31.选择最优的循环方法"></a>31.选择最优的循环方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrList = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">arrList.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = arrList.length; i; i--)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arrList[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arrList)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arrList[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="32-文档碎片优化节点添加"><a href="#32-文档碎片优化节点添加" class="headerlink" title="32.文档碎片优化节点添加"></a>32.文档碎片优化节点添加</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> oP = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line">    oP.innerHYML = i</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(oP)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fragEle = <span class="built_in">document</span>.createDocumnetFragment()</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> oP = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line">    oP.innerHTML = i</span><br><span class="line">    fragEle.appendChild(oP)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(fragEle)</span><br></pre></td></tr></table></figure>

<h3 id="33-克隆优化节点操作"><a href="#33-克隆优化节点操作" class="headerlink" title="33.克隆优化节点操作"></a>33.克隆优化节点操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> oP = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line">    oP.innerHTML = i</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(oP)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oldP = <span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> newP = oldP.cloneNode(<span class="literal">false</span>)</span><br><span class="line">    newP.innerHTML = i</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(newP)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="34-直接量替换-new-Object"><a href="#34-直接量替换-new-Object" class="headerlink" title="34.直接量替换 new Object"></a>34.直接量替换 new Object</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>)</span><br><span class="line">a1[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">a1[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">a1[<span class="number">2</span>] = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="任务四：JavaScript-性能优化2"><a href="#任务四：JavaScript-性能优化2" class="headerlink" title="任务四：JavaScript 性能优化2"></a>任务四：JavaScript 性能优化2</h2><h3 id="1-JSBench使用"><a href="#1-JSBench使用" class="headerlink" title="1.JSBench使用"></a>1.JSBench使用</h3><ul>
<li>jsbench.me</li>
</ul>
<h3 id="2-堆栈中的JS执行过程"><a href="#2-堆栈中的JS执行过程" class="headerlink" title="2.堆栈中的JS执行过程"></a>2.堆栈中的JS执行过程</h3><ul>
<li>理解原理</li>
</ul>
<h3 id="3-减少判断层级"><a href="#3-减少判断层级" class="headerlink" title="3.减少判断层级"></a>3.减少判断层级</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">part, chapter</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> parts = [<span class="string">'ES2016'</span>, <span class="string">'工程化'</span>, <span class="string">'Vue'</span>, <span class="string">'React'</span>, <span class="string">'Node'</span>]</span><br><span class="line">    <span class="keyword">if</span>(part) &#123;</span><br><span class="line">        <span class="keyword">if</span>(parts.includes(part)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'属于当前课程'</span>)</span><br><span class="line">            <span class="keyword">if</span>(chapter &gt; <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'您需要提供 VIP 身份'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'请确认模块信息'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">doSomething(<span class="string">'ES2016'</span>, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">part, chapter</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> parts = [<span class="string">'ES2016'</span>, <span class="string">'工程化'</span>, <span class="string">'Vue'</span>, <span class="string">'React'</span>, <span class="string">'Node'</span>]</span><br><span class="line">    <span class="keyword">if</span>(!part) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'请确认模块信息'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!parts.includes(part)) <span class="keyword">return</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'属于当前课程'</span>)</span><br><span class="line">    <span class="keyword">if</span>(chapter &gt; <span class="number">5</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'您需要提供 VIP 身份'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-减少作用域链查找层数"><a href="#4-减少作用域链查找层数" class="headerlink" title="4.减少作用域链查找层数"></a>4.减少作用域链查找层数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'zce'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    name = <span class="string">'zce666'</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> age = <span class="number">38</span></span><br><span class="line">        <span class="built_in">console</span>.log(age)</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'zce'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">'zce666'</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> age = <span class="number">38</span></span><br><span class="line">        <span class="built_in">console</span>.log(age)</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<h3 id="5-减少数据读取次数"><a href="#5-减少数据读取次数" class="headerlink" title="5.减少数据读取次数"></a>5.减少数据读取次数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBox = <span class="built_in">document</span>.getElementById(<span class="string">'skip'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasEle</span>(<span class="params">ele, cls</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ele.calssName === cls</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasEle</span>(<span class="params">ele, cls</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> clsNmae = ele.calssName</span><br><span class="line">    <span class="keyword">return</span> clsNmae === cls</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(hasEle(oBox, <span class="string">'skip'</span>))</span><br></pre></td></tr></table></figure>

<h3 id="6-字面量与构造式"><a href="#6-字面量与构造式" class="headerlink" title="6.字面量与构造式"></a>6.字面量与构造式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">    obj.name = <span class="string">'zce'</span></span><br><span class="line">    obj.age = <span class="number">38</span></span><br><span class="line">    obj.slogan = <span class="string">'我为前端而活'</span></span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name = <span class="string">'zce'</span></span><br><span class="line">        age = <span class="number">38</span></span><br><span class="line">        slogan = <span class="string">'我为前端而活'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test())</span><br></pre></td></tr></table></figure>

<h3 id="7-减少循环体中活动"><a href="#7-减少循环体中活动" class="headerlink" title="7.减少循环体中活动"></a>7.减少循环体中活动</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">'zce'</span>, <span class="number">38</span>, <span class="string">'我为前端而活'</span>]</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i&lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">'zce'</span>, <span class="number">38</span>, <span class="string">'我为前端而活'</span>]</span><br><span class="line">    <span class="keyword">var</span> len = arr.length</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i&lt; len; i++;) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">'zce'</span>, <span class="number">38</span>, <span class="string">'我为前端而活'</span>]</span><br><span class="line">    <span class="keyword">var</span> len = arr.length</span><br><span class="line">    <span class="keyword">while</span>(len--)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(arr[len])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>

<h3 id="8-减少声明及语句数"><a href="#8-减少声明及语句数" class="headerlink" title="8.减少声明及语句数"></a>8.减少声明及语句数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBox = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>)</span><br><span class="line"><span class="keyword">var</span> test = <span class="function">(<span class="params">ele</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> w = ele.offsetWidth</span><br><span class="line">    <span class="keyword">let</span> h = ele.offsetHeight</span><br><span class="line">    <span class="keyword">return</span> w * h</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test = <span class="function">(<span class="params">ele</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ele.offsetWidth * ele.offsetHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test(oBox))</span><br></pre></td></tr></table></figure>

<h3 id="9-惰性函数与性能"><a href="#9-惰性函数与性能" class="headerlink" title="9.惰性函数与性能"></a>9.惰性函数与性能</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBox = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">obj, type, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.addEventListener) &#123;</span><br><span class="line">        obj.addEventListener(type, fn, <span class="literal">false</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj.attachEvent)&#123;</span><br><span class="line">        obj.attachEvent(<span class="string">'on'</span> + type, fn)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        obj[<span class="string">'on'</span> + type] = fn</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">obj, type, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.addEventListener) &#123;</span><br><span class="line">        addEvent = obj.addEventListener(type, fn, <span class="literal">false</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj.attachEvent)&#123;</span><br><span class="line">        addEvent = obj.attachEvent(<span class="string">'on'</span> + type, fn)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        addEvent = obj[<span class="string">'on'</span> + type] = fn</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> addEvent</span><br><span class="line">&#125;</span><br><span class="line">addEvent(oBtn, <span class="string">'click'</span>, foo)</span><br></pre></td></tr></table></figure>

<h3 id="10-采用事件绑定"><a href="#10-采用事件绑定" class="headerlink" title="10.采用事件绑定"></a>10.采用事件绑定</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.querySelectAll(<span class="string">'li'</span>)</span><br><span class="line">funciton showTxt(ev) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(ev.target.innerHTML)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> list) &#123;</span><br><span class="line">    item.onclick = showTxt</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>)</span><br><span class="line">oUl.addEventListener(<span class="string">'click'</span>, showTxt, <span class="literal">true</span>)</span><br><span class="line">funciton showTxt(ev) &#123;</span><br><span class="line">    <span class="keyword">var</span> obj = ev.target</span><br><span class="line">    <span class="keyword">if</span>(obj.nodeName.toLowerCase() === <span class="string">'li'</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(ev.target.innerHTML)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScipt/" rel="tag"># JavaScipt</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/10/31/26/" rel="next" title="学习笔记 ----- 【JavaScript 深度剖析】函数式编程与 JS 异步编程、手写 Promise">
                <i class="fa fa-chevron-left"></i> 学习笔记 ----- 【JavaScript 深度剖析】函数式编程与 JS 异步编程、手写 Promise
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/11/22/28/" rel="prev" title="学习笔记 ----- 【前端工程化实践】开发脚手架及封装自动化构建工作流">
                学习笔记 ----- 【前端工程化实践】开发脚手架及封装自动化构建工作流 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="FY" />
            
              <p class="site-author-name" itemprop="name">FY</p>
              <p class="site-description motion-element" itemprop="description">Just Be Yourself</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/xuanfeiyu" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Part-1-·-模块二-ES-新特性与-TypeScript、JS-性能优化"><span class="nav-number">1.</span> <span class="nav-text">Part 1 · 模块二 ES 新特性与 TypeScript、JS 性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#任务一：ECMAScript-新特性"><span class="nav-number">1.1.</span> <span class="nav-text">任务一：ECMAScript 新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-课程介绍"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.课程介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ECMAScript-概述"><span class="nav-number">1.1.2.</span> <span class="nav-text">2.ECMAScript 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ECMAScript2015-概述"><span class="nav-number">1.1.3.</span> <span class="nav-text">3.ECMAScript2015 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-ECMAScript2015-准备工作"><span class="nav-number">1.1.4.</span> <span class="nav-text">4.ECMAScript2015 准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-ECMAScript2015-let-与块级作用域"><span class="nav-number">1.1.5.</span> <span class="nav-text">5.ECMAScript2015 let 与块级作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-ES2015-const"><span class="nav-number">1.1.6.</span> <span class="nav-text">6.ES2015 const</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-ES2015-数组的解构"><span class="nav-number">1.1.7.</span> <span class="nav-text">7.ES2015 数组的解构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-ES2015-对象的解构"><span class="nav-number">1.1.8.</span> <span class="nav-text">8.ES2015 对象的解构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-ES2015-模板字符串"><span class="nav-number">1.1.9.</span> <span class="nav-text">9.ES2015 模板字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-ES2015-带标签的模板字符串"><span class="nav-number">1.1.10.</span> <span class="nav-text">10.ES2015 带标签的模板字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-ES2015-字符串的扩展方法"><span class="nav-number">1.1.11.</span> <span class="nav-text">11.ES2015 字符串的扩展方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-ES2015-参数默认值"><span class="nav-number">1.1.12.</span> <span class="nav-text">12.ES2015 参数默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-ES2015-剩余参数"><span class="nav-number">1.1.13.</span> <span class="nav-text">13.ES2015 剩余参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-ES2015-展开数组"><span class="nav-number">1.1.14.</span> <span class="nav-text">14.ES2015 展开数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-ES2015-箭头函数"><span class="nav-number">1.1.15.</span> <span class="nav-text">15.ES2015 箭头函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-ES2015-箭头函数与this"><span class="nav-number">1.1.16.</span> <span class="nav-text">16.ES2015 箭头函数与this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-ES2015-对象字面量的增强"><span class="nav-number">1.1.17.</span> <span class="nav-text">17.ES2015 对象字面量的增强</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-ES2015-Object-assign"><span class="nav-number">1.1.18.</span> <span class="nav-text">18.ES2015 Object.assign</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-ES2015-Object-is"><span class="nav-number">1.1.19.</span> <span class="nav-text">19.ES2015 Object.is</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-ES2015-Proxy"><span class="nav-number">1.1.20.</span> <span class="nav-text">20.ES2015 Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-ES2015-Proxy-对比-defineProperty"><span class="nav-number">1.1.21.</span> <span class="nav-text">21.ES2015 Proxy 对比 defineProperty</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-ES2015-Reflect"><span class="nav-number">1.1.22.</span> <span class="nav-text">22.ES2015 Reflect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-ES2015-Promise"><span class="nav-number">1.1.23.</span> <span class="nav-text">23.ES2015 Promise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-ES2015-class类"><span class="nav-number">1.1.24.</span> <span class="nav-text">24.ES2015 class类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-ES2015-静态方法"><span class="nav-number">1.1.25.</span> <span class="nav-text">25.ES2015 静态方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-ES2015-类的继承"><span class="nav-number">1.1.26.</span> <span class="nav-text">26.ES2015 类的继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-ES2015-Set"><span class="nav-number">1.1.27.</span> <span class="nav-text">27.ES2015 Set</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-ES2015-Map"><span class="nav-number">1.1.28.</span> <span class="nav-text">28.ES2015 Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-ES2015-Symbol"><span class="nav-number">1.1.29.</span> <span class="nav-text">29.ES2015 Symbol</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-ES2015-Symbol-补充"><span class="nav-number">1.1.30.</span> <span class="nav-text">30.ES2015 Symbol 补充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31-ES2015-for…of-循环"><span class="nav-number">1.1.31.</span> <span class="nav-text">31.ES2015 for…of 循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-ES2015-可迭代接口"><span class="nav-number">1.1.32.</span> <span class="nav-text">32.ES2015 可迭代接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-ES2015-实现可迭代接口"><span class="nav-number">1.1.33.</span> <span class="nav-text">33.ES2015 实现可迭代接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#34-ES2015-迭代器模式"><span class="nav-number">1.1.34.</span> <span class="nav-text">34.ES2015 迭代器模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#35-ES2015-生成器"><span class="nav-number">1.1.35.</span> <span class="nav-text">35.ES2015 生成器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#36-ES2015-生成器应用"><span class="nav-number">1.1.36.</span> <span class="nav-text">36.ES2015 生成器应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#37-ES2015-ES-Modules"><span class="nav-number">1.1.37.</span> <span class="nav-text">37.ES2015 ES Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#38-ES2016-概述"><span class="nav-number">1.1.38.</span> <span class="nav-text">38.ES2016 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#39-ES2017-概述"><span class="nav-number">1.1.39.</span> <span class="nav-text">39.ES2017 概述</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#任务二：TypeScript语言"><span class="nav-number">1.2.</span> <span class="nav-text">任务二：TypeScript语言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-课程概述"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.课程概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-强类型与弱类型"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.强类型与弱类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-静态类型与动态类型"><span class="nav-number">1.2.3.</span> <span class="nav-text">3.静态类型与动态类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-JavaSript-类型系统特征"><span class="nav-number">1.2.4.</span> <span class="nav-text">4.JavaSript 类型系统特征</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-弱类型的问题"><span class="nav-number">1.2.5.</span> <span class="nav-text">5.弱类型的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-强类型的优势"><span class="nav-number">1.2.6.</span> <span class="nav-text">6.强类型的优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Flow概述"><span class="nav-number">1.2.7.</span> <span class="nav-text">7.Flow概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-Flow快速上手"><span class="nav-number">1.2.8.</span> <span class="nav-text">8.Flow快速上手</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-Flow编译移除注解"><span class="nav-number">1.2.9.</span> <span class="nav-text">9.Flow编译移除注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-Flow开发工具插件"><span class="nav-number">1.2.10.</span> <span class="nav-text">10.Flow开发工具插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-Flow类型推断"><span class="nav-number">1.2.11.</span> <span class="nav-text">11.Flow类型推断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-Flow类型注解"><span class="nav-number">1.2.12.</span> <span class="nav-text">12.Flow类型注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-Flow原始类型"><span class="nav-number">1.2.13.</span> <span class="nav-text">13.Flow原始类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-Flow数组类型"><span class="nav-number">1.2.14.</span> <span class="nav-text">14.Flow数组类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-Flow对象类型"><span class="nav-number">1.2.15.</span> <span class="nav-text">15.Flow对象类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-Flow函数类型"><span class="nav-number">1.2.16.</span> <span class="nav-text">16.Flow函数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-Flow特殊类型"><span class="nav-number">1.2.17.</span> <span class="nav-text">17.Flow特殊类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-Flow-Mixed与Any"><span class="nav-number">1.2.18.</span> <span class="nav-text">18.Flow Mixed与Any</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-Flow类型小结"><span class="nav-number">1.2.19.</span> <span class="nav-text">19.Flow类型小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-Flow运行环境API"><span class="nav-number">1.2.20.</span> <span class="nav-text">20.Flow运行环境API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-TypeScript-概述"><span class="nav-number">1.2.21.</span> <span class="nav-text">21.TypeScript 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-TypeScript-快速上手"><span class="nav-number">1.2.22.</span> <span class="nav-text">22.TypeScript 快速上手</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-TypeScript-配置文件"><span class="nav-number">1.2.23.</span> <span class="nav-text">23.TypeScript 配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-TypeScript-原始类型"><span class="nav-number">1.2.24.</span> <span class="nav-text">24.TypeScript 原始类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-TypeScript-标准库声明"><span class="nav-number">1.2.25.</span> <span class="nav-text">25.TypeScript 标准库声明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-TypeScript-中文错误消息"><span class="nav-number">1.2.26.</span> <span class="nav-text">26.TypeScript 中文错误消息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-TypeScript-作用域问题"><span class="nav-number">1.2.27.</span> <span class="nav-text">27.TypeScript 作用域问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-TypeScript-Object-类型"><span class="nav-number">1.2.28.</span> <span class="nav-text">28.TypeScript Object 类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-TypeScript-数组类型"><span class="nav-number">1.2.29.</span> <span class="nav-text">29.TypeScript 数组类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-TypeScript-元组类型"><span class="nav-number">1.2.30.</span> <span class="nav-text">30.TypeScript 元组类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31-TypeScript-枚举类型"><span class="nav-number">1.2.31.</span> <span class="nav-text">31.TypeScript 枚举类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-TypeScript-函数类型"><span class="nav-number">1.2.32.</span> <span class="nav-text">32.TypeScript 函数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-TypeScript-任意类型"><span class="nav-number">1.2.33.</span> <span class="nav-text">33.TypeScript 任意类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#34-TypeScript-隐式类型推断"><span class="nav-number">1.2.34.</span> <span class="nav-text">34.TypeScript 隐式类型推断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#35-TypeScript-类型断言"><span class="nav-number">1.2.35.</span> <span class="nav-text">35.TypeScript 类型断言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#36-TypeScript-接口"><span class="nav-number">1.2.36.</span> <span class="nav-text">36.TypeScript 接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#37-TypeScript-接口补充"><span class="nav-number">1.2.37.</span> <span class="nav-text">37.TypeScript 接口补充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#38-TypeScript-类的基本使用"><span class="nav-number">1.2.38.</span> <span class="nav-text">38.TypeScript 类的基本使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#39-TypeScript-类的访问修饰符"><span class="nav-number">1.2.39.</span> <span class="nav-text">39.TypeScript 类的访问修饰符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#40-TypeScript-类的只读属性"><span class="nav-number">1.2.40.</span> <span class="nav-text">40.TypeScript 类的只读属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#41-TypeScript-类与接口"><span class="nav-number">1.2.41.</span> <span class="nav-text">41.TypeScript 类与接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#42-TypeScript-抽象类"><span class="nav-number">1.2.42.</span> <span class="nav-text">42.TypeScript 抽象类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#43-TypeScript-泛型"><span class="nav-number">1.2.43.</span> <span class="nav-text">43.TypeScript 泛型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#44-TypeScript-类型声明"><span class="nav-number">1.2.44.</span> <span class="nav-text">44.TypeScript 类型声明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#任务三：JavaScript-性能优化"><span class="nav-number">1.3.</span> <span class="nav-text">任务三：JavaScript 性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-课程概述-1"><span class="nav-number">1.3.1.</span> <span class="nav-text">1.课程概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-内存管理"><span class="nav-number">1.3.2.</span> <span class="nav-text">2.内存管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-JavaScript的垃圾回收"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.JavaScript的垃圾回收</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-GC算法介绍"><span class="nav-number">1.3.4.</span> <span class="nav-text">4.GC算法介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-引用计数算法实现原理"><span class="nav-number">1.3.5.</span> <span class="nav-text">5.引用计数算法实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-引用计数算法优缺点"><span class="nav-number">1.3.6.</span> <span class="nav-text">6.引用计数算法优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-标记清除算法实现原理"><span class="nav-number">1.3.7.</span> <span class="nav-text">7.标记清除算法实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-标记清除算法优缺点"><span class="nav-number">1.3.8.</span> <span class="nav-text">8.标记清除算法优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-标记整理算法实现原理"><span class="nav-number">1.3.9.</span> <span class="nav-text">9.标记整理算法实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-常见GC算法总结"><span class="nav-number">1.3.10.</span> <span class="nav-text">10.常见GC算法总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-认识V8"><span class="nav-number">1.3.11.</span> <span class="nav-text">11.认识V8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-V8垃圾回收策略"><span class="nav-number">1.3.12.</span> <span class="nav-text">12.V8垃圾回收策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-V8如何回收新生代对象"><span class="nav-number">1.3.13.</span> <span class="nav-text">13.V8如何回收新生代对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-V8如何回收老生代对象"><span class="nav-number">1.3.14.</span> <span class="nav-text">14.V8如何回收老生代对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-V8垃圾回收总结"><span class="nav-number">1.3.15.</span> <span class="nav-text">15.V8垃圾回收总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-Performance工具介绍"><span class="nav-number">1.3.16.</span> <span class="nav-text">16.Performance工具介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-内存问题的体现"><span class="nav-number">1.3.17.</span> <span class="nav-text">17.内存问题的体现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-监控内存的几种方式"><span class="nav-number">1.3.18.</span> <span class="nav-text">18.监控内存的几种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-任务管理器监控内存"><span class="nav-number">1.3.19.</span> <span class="nav-text">19.任务管理器监控内存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-Timeline记录内存"><span class="nav-number">1.3.20.</span> <span class="nav-text">20.Timeline记录内存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-堆快照查找分离DOM"><span class="nav-number">1.3.21.</span> <span class="nav-text">21.堆快照查找分离DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-判断是否存在频繁GC"><span class="nav-number">1.3.22.</span> <span class="nav-text">22.判断是否存在频繁GC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-Performance-总结"><span class="nav-number">1.3.23.</span> <span class="nav-text">23.Performance 总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-代码优化介绍"><span class="nav-number">1.3.24.</span> <span class="nav-text">24.代码优化介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-慎用全局变量"><span class="nav-number">1.3.25.</span> <span class="nav-text">25.慎用全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-缓存全局变量"><span class="nav-number">1.3.26.</span> <span class="nav-text">26.缓存全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-通过原型对象添加附加方法"><span class="nav-number">1.3.27.</span> <span class="nav-text">27.通过原型对象添加附加方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-避开闭包陷阱"><span class="nav-number">1.3.28.</span> <span class="nav-text">28.避开闭包陷阱</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-避免属性访问方法使用"><span class="nav-number">1.3.29.</span> <span class="nav-text">29.避免属性访问方法使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-For循环优化"><span class="nav-number">1.3.30.</span> <span class="nav-text">30.For循环优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31-选择最优的循环方法"><span class="nav-number">1.3.31.</span> <span class="nav-text">31.选择最优的循环方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-文档碎片优化节点添加"><span class="nav-number">1.3.32.</span> <span class="nav-text">32.文档碎片优化节点添加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-克隆优化节点操作"><span class="nav-number">1.3.33.</span> <span class="nav-text">33.克隆优化节点操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#34-直接量替换-new-Object"><span class="nav-number">1.3.34.</span> <span class="nav-text">34.直接量替换 new Object</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#任务四：JavaScript-性能优化2"><span class="nav-number">1.4.</span> <span class="nav-text">任务四：JavaScript 性能优化2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-JSBench使用"><span class="nav-number">1.4.1.</span> <span class="nav-text">1.JSBench使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-堆栈中的JS执行过程"><span class="nav-number">1.4.2.</span> <span class="nav-text">2.堆栈中的JS执行过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-减少判断层级"><span class="nav-number">1.4.3.</span> <span class="nav-text">3.减少判断层级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-减少作用域链查找层数"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.减少作用域链查找层数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-减少数据读取次数"><span class="nav-number">1.4.5.</span> <span class="nav-text">5.减少数据读取次数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-字面量与构造式"><span class="nav-number">1.4.6.</span> <span class="nav-text">6.字面量与构造式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-减少循环体中活动"><span class="nav-number">1.4.7.</span> <span class="nav-text">7.减少循环体中活动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-减少声明及语句数"><span class="nav-number">1.4.8.</span> <span class="nav-text">8.减少声明及语句数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-惰性函数与性能"><span class="nav-number">1.4.9.</span> <span class="nav-text">9.惰性函数与性能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-采用事件绑定"><span class="nav-number">1.4.10.</span> <span class="nav-text">10.采用事件绑定</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FY</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
